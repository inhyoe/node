# 1장

자바스크립트 기초
https://ko.javascript.info/onload-ondomcontentloaded


## 1.1 핵심개념
node.js : Chrome V8 엔진으로 빌드된 Javascript 런타임
    - 자바스크립트 실행 환경
    - 서버 환경을 구축할 수 있는 라이브러리를 포함한 실행환경
- 런타임
   - 실행 환경

1.1.1 서버
노드 !== 서버
노드는 실행환경으로 서버뿐만 아니라 다양한 어플리케이션을 개발하여 실행할 수 있다.

ex) VScode : 노드를 기반으로 일렉트론을 활용하여 개발.
    React, Vue

- 서버
  - 네트워크를 통해 클라이언트에 정보나 서비스를 제공하는
    컴퓨터 프로그램
   

- 클라이언트
  - 요청을 보내는 주체
  - 브라우저, 데스크톱 프로그램, 모바일 웹
  - 다른 서버에 요청을 보내는 서버

- 요청과 응답(Request, Response)
  - 

- 구동과정 
  1) 클라이언트 -> 서버 요청 request
  2) 서버 -> 클라이언트 응답 response



1.1.2 JS Runtime
- V8 엔진기반
- V8 엔진 2008년도 구글에서 크롬과 함께 출시
- 2009년 라이언달이 노트 프로젝트를 시작
- V8 엔진 : 오픈소스 자바스크립트 엔진 -> 속도 문제 개선
- libuv : 노드의 트겅인 이벤트 기반, 논블로킹(비동기) I/O 모델을 구현한 라이브러리



1.1.3 이벤트 기반 (Event driven)
- 이벤트가 발생할 때 미리 지정해둔 작업이 수행되도록 하는 방식
- 1. 이벤트 처리 루틴(함수,프로시저 ,이벤트리스너 ,이벤트 핸들러)를 등록
    - callback 형태로 등록 --> 비동기 실행(논블로킹 동작)

- 2. 이벤트가 발생하면 이벤트 처리 리스너를 실행.
    - 이벤트 루프 (Event Loop) : 여러개의 이벤트가 실행될 때 어떤 순서로 실행될 지 결정,
    기본적으로 이벤트 발생 순서
    - 우선순위 : 
    ex) 
    callstack() 
    function f1(){
        f2();
        console.log('1')
    }
    function f2(){
        f3();
        console.log('2')
    }function f3(){
        console.log('3')
    }
    3,2,1순으로 실행됨

    - 예제2
    function run(){
    console.log('3초후 실행');
    }
    console.log('start')
    setTimeout(run,3000);
    console.log('end')
    start
    end
    //3초후//
    3초후 실행
    - call stack, event loop, task queue, background

    1.1.4 논블로킹 I/O

    - callback 함수는 논블로킹, 비동기동작

    - 컴퓨터에서 작업: 컴퓨팅
      - 동시에 실행할 수 있는 작업 : I/O - input/output  (기준은 CPU)
       - 파일 시스템 - 읽기/쓰기 , 네트워크 : (request/response)
      - 동시에 실행할 수 없는 작업 : 동기적으로 실행되는 것, 기본적으로 함수들.
    
    - non-blocking: 이전 작업이 완료될 때 까지 대기하지 않고(실행을 점유하지 않고) 다음 작업을 실행.
                    예제2)  console들이 실행될때 대기하지 않고 백그라운드에 run함수를 보냄.
    - blocking : 이전 작업이 완료될때 까지 대기한다. 
                    예제1) function f1(),f2()가 실행이 되었음에도 f3()가 실행이 되지 않았기 때문에 
                           블로킹중이다.

    - 노드의 활용 : I/O가 빈번한 서비스에 유용하다.
    - 논 블로킹 테스트 : setTimeout(콜백,0) // 미묘하게 차이가 난다.

    - 동기식 동작과 블로킹 동작은 유사
    - 비동기식과 논 블로킹이 유사



    1.1.5 싱글 스레드
    - Thread가 하나뿐
      - 프로그래머가 다룰 수 있는 Thread가 1개라는 말
      - 노드는 여러개의 쓰레드로 실행된다
      - node14 이상부터는 여러개의 쓰레드(멀티쓰래드)를 사용할 수 있게 됨
        - 권장 안함, 소스코딩 난해, 성능 개선 저하(노력한만큼의 성능이 개선되지 않음)
      - 자바스크립트 소스가 한순간에는 하나의 코드만 실행 가능하다.
      - 프로세스와 스레드에 대한 설명(다음시간 --> 내일) 

      2022.3.4(금)
      - Process vs Thread
       - 프로세스(Process) 
         - os에서 실행하여 프로그램에 할당하는 작업의 단위(contest)
         - 개별 프로세스들간의 메모리 공유(자원, 컴퓨터 리소스)가 불가.
         - exe가 메모리의 로딩되어 실행되는 상황.(chrome.exe 등등..)
         - 멀티 프로세스(vsCode하나 실행에 여러 프로세스가 실행되는 상황) -> 코딩하는 것 : 멀티 프로세싱(Multi processing) : C/C++, MFC

       - 쓰레드(Thread) - 점원
        - 프로세스 내에서 실행되는 흐름의 단위
        - 한 프로세스(부모 프로세스) 내에서 여러 쓰레드가 존재 가능
        - 부모 프로세스의 자원(메모리)를 여러 쓰레드가 공유 가능.
        - 멀티 쓰레드, 멀티 쓰레딩
        - 복잡, 소스코드 난해
        - 일손으로 비유 : worker Thread

      - 노드는 싱글쓰레드로 구현
        - 싱글쓰레드가 오류로 멈추면 전체 노드가 중지됨.
        - 싱글쓰레드가 멈추지 않도록 논블로킹 형태로 관리해야 함.
    

      - 싱글 스레드와 멀티 스레드의 장단점
       - 싱글스레드 : 난이도가 쉽고 ,CPU , 메모리 자원 적게 사용
          - 프로그래머가 다룰 수 있는 프로세스가 하나
      - 멀티 스레드
        - 프로그래밍 난이도 어려움.
        - CPU, 메모리 자원 많이 사용
        - 멀티스레드(블로킹)

1.2 서버로서의 노드
    - 특성, 장점

1.3 서버 외의 노드
     -  